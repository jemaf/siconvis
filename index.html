<!doctype html>
<html>
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>

        <link href="http://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link type="text/css" rel="stylesheet" href="css/materialize.min.css"  media="screen,projection"/>
        <link type="text/css" rel="stylesheet" href="css/main.css">
        <title>SICONVIS</title>
    </head>
    <body>

        <nav class="indigo darken-4" role="navigation">
            <div class="nav-wrapper container"><a id="logo-container" href="#" class="brand-logo">DCC/UFMG</a>
              <ul class="right hide-on-med-and-down">
                <li><a href="#">Visualização de Dados</a></li>
              </ul>
            </div>
        </nav>
        <div class="section indigo lighten-5" id="index-banner">
            <div class="container">
              <h1 class="header indigo-text">SICONVIS</h1> <h5 class="header col s12 light">Uma visualização de como são alocadas as verbas de convênios do Governo Federal</h5>
            </div>
        </div>


        <div class="container">
          <div class="section">
          <div class="row">
              <div class="col s6">
                <div class="col s12">
                  <h4>Pergunta 1</h4>
                  <div id="map"></div>
                </div>
                <div class="col s12">
                  <h4>Pergunta 2</h4>
                  <div id="radar"></div>
                </div>  
              </div>
              <div class="col s6">
                <div class="col s12">
                  <h4>Pergunta 3</h4>
                  <div id="stack-global"></div>
                </div>
                <div class="col s12">
                  <h4>Pergunta 4</h4>
                  <div id="stack-counterpart"></div>
                </div>
                <div class="col s12">
                  <h4>Pergunta 5</h4>
                  <div id="stack-invest"></div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <footer class="page-footer indigo">
        <div class="container">
          <div class="row">
            <div class="col l8 s12">
              <h5 class="white-text">About</h5>
              <p class="grey-text text-lighten-4">
                Os dados deste trabalho foram coletados do Portal de Convênios do Governo Federal (SICONV), sendo portanto de uso público, conforme estipulado na Lei de Acesso à Informação (Lei nº 12.527 de 2011).
              </p>
            </div>
            <div class="col l4 s12">
              <h5 class="white-text">Integrantes</h5>
              <ul>
                <li><a class="white-text" href="http://jemaf.github.io">João Eduardo Montandon</a></li>
                <li><a class="white-text" href="#!">José Laerte Xavier</a></li>
              </ul>
            </div>
          </div>
        </div>
        <div class="footer-copyright">
          <div class="container">
          Made by <a class="indigo-text text-lighten-3" href="http://materializecss.com">Materialize</a>
          </div>
        </div>
        </footer>
       
        <script src="js/vendor/d3.min.js"></script>
        <script src="js/vendor/alasql.min.js"></script>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <script type="text/javascript" src="js/vendor/materialize.min.js"></script>
        <script src="//d3js.org/topojson.v1.min.js"></script>

        
        <script src="js/constants.js"></script>
        <script src="js/data.js"></script>
        <script src="js/map.js"></script>
        <script src="js/radar.js"></script>
        <script src="js/stacked.js"></script>


        
        <script type="text/javascript" charset="utf-8"> 
          loadData(function() {
            mapVisualization.init();

              var radarData = [
                  [//iPhone
                  {axis:"Battery Life",value:0.22},
                  {axis:"Brand",value:0.28},
                  {axis:"Contract Cost",value:0.29},
                  {axis:"Design And Quality",value:0.17},
                  {axis:"Have Internet Connectivity",value:0.22},
                  {axis:"Large Screen",value:0.02},
                  {axis:"Price Of Device",value:0.21},
                  {axis:"To Be A Smartphone",value:0.50}      
                  ],[//Samsung
                  {axis:"Battery Life",value:0.27},
                  {axis:"Brand",value:0.16},
                  {axis:"Contract Cost",value:0.35},
                  {axis:"Design And Quality",value:0.13},
                  {axis:"Have Internet Connectivity",value:0.20},
                  {axis:"Large Screen",value:0.13},
                  {axis:"Price Of Device",value:0.35},
                  {axis:"To Be A Smartphone",value:0.38}
                  ],[//Nokia Smartphone
                  {axis:"Battery Life",value:0.26},
                  {axis:"Brand",value:0.10},
                  {axis:"Contract Cost",value:0.30},
                  {axis:"Design And Quality",value:0.14},
                  {axis:"Have Internet Connectivity",value:0.22},
                  {axis:"Large Screen",value:0.04},
                  {axis:"Price Of Device",value:0.41},
                  {axis:"To Be A Smartphone",value:0.30}
                  ]
                ];

              var stackData = [
                  {key: "Group1", value: 37, date: "04/23/12"},
                  {key: "Group2", value: 12, date: "04/23/12"},
                  {key: "Group3", value: 46, date: "04/23/12"},
                  {key: "Group1", value: 32, date: "04/24/12"},
                  {key: "Group2", value: 19, date: "04/24/12"},
                  {key: "Group3", value: 42, date: "04/24/12"},
                  {key: "Group1", value: 45, date: "04/25/12"},
                  {key: "Group2", value: 16, date: "04/25/12"},
                  {key: "Group3", value: 44, date: "04/25/12"},
                  {key: "Group1", value: 24, date: "04/26/12"},
                  {key: "Group2", value: 52, date: "04/26/12"},
                  {key: "Group3", value: 64, date: "04/26/12"}
                ];
              var format = d3.time.format("%m/%d/%y");

              stackData.forEach(function(d) {
                d.x = format.parse(d.date);
                d.y = +d.value;
              });

            radar = radarChart();

            radar()
                .container(RADAR_CONTAINER)
                .margin({top: 70, right: 70, bottom: 70, left: 70})
                .width(250)
                .height(250)
                .data(radarData)
                .color(d3.scale.ordinal().range(["#EDC951","#CC333F","#00A0B0"]))
                .maxValue(0.5)
                .levels(5)
                .roundStrokes(true)
                .draw();

            stack1 = stackedChart();
            stack2 = stackedChart();
            stack3 = stackedChart();

            stack1
                .container(STACK_TOTAL_CONTAINER)
                .margin({top: 20, right: 30, bottom: 30, left: 40})
                .width(450)
                .height(250)
                .data(stackData)
                .color(d3.scale.ordinal().range(["#EDC951","#CC333F","#00A0B0"]))
                .xAxis({ orientation: "bottom", ticks: d3.time.days })
                .yAxis({ orientation: "left" })
                .nestKey("key")
                .draw();


            stack2
                .container(STACK_COUNTERPART_CONTAINER)
                .margin({top: 20, right: 30, bottom: 30, left: 40})
                .width(450)
                .height(250)
                .data(stackData)
                .color(d3.scale.ordinal().range(["#EDC951","#CC333F","#00A0B0"]))
                .xAxis({ orientation: "bottom", ticks: d3.time.days })
                .yAxis({ orientation: "left" })
                .nestKey("key")
                .draw();


            stack3
                .container(STACK_INVESTMENT_CONTAINER)
                .margin({top: 20, right: 30, bottom: 30, left: 40})
                .width(450)
                .height(250)
                .data(stackData)
                .color(d3.scale.ordinal().range(["#EDC951","#CC333F","#00A0B0"]))
                .xAxis({ orientation: "bottom", ticks: d3.time.days })
                .yAxis({ orientation: "left" })
                .nestKey("key")
                .draw();
          });
        </script>
    </body>
</html>
